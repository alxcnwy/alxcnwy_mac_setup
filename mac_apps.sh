echo "Application Name - Version" > ~/Desktop/applications_list.txt && for app in /Applications/*.app; do name=$(basename "$app" .app); version=$(mdls -name kMDItemVersion -raw "$app"); if [[ "$version" == "(null)" ]]; then version=$(defaults read "$app/Contents/Info" CFBundleShortVersionString 2>/dev/null); fi; if [[ -z "$version" || "$version" == "(null)" ]]; then version="N/A"; fi; echo "$name - $version"; done >> ~/Desktop/mac_apps.txt && echo "Application list has been saved to ~/Desktop/mac_apps.txt"